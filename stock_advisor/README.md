# Stock Advisor API

μ‹¤μ‹κ°„ μ£Όμ‹ λ¶„μ„, κ°€μΉν‰κ°€ λ° ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬ API (FastAPI + FinanceDataReader + yfinance)

## μ£Όμ” κΈ°λ¥

### π“ μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§
- λ―Έκµ­ μ‹μ΄ Top 20 μΆ…λ© μλ™ μμ§‘ (1λ¶„ μ£ΌκΈ°)
- DCF μ μ •μ£Όκ°€ κ³„μ‚° (30λ¶„ μ£ΌκΈ°)
- κΈ°μ μ  μ§€ν‘: RSI, EMA(5, 10, 20, 60, 100, 200)
- μ£Όμ” μ§€μ(μ½”μ¤ν”Ό, λ‚μ¤λ‹¥ λ“±) ν„ν™© μ΅°ν

### π’° κ°€μΉν‰κ°€ λ° λ¶„μ„
- **DCF (ν„κΈνλ¦„ ν• μΈλ²•)**: yfinance FCF λ°μ΄ν„° κΈ°λ° μ μ •μ£Όκ°€ μ‚°μ¶
- **μ‹ λΆ°λ„ κ²€μ¦**: DCF λ€λΉ„ ν„μ¬κ°€ κ΄΄λ¦¬μ¨ λ¶„μ„
- **μμµλ¥  λ¶„μ„**: YTD μμµλ¥  λ° MDD(μµλ€ λ‚™ν­) κ³„μ‚°
- **μ¬λ¬΄μ§€ν‘**: PER, PBR, ROE λ“± μ£Όμ” μ§€ν‘ μ κ³µ

### π“ ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬
- **μ—‘μ…€ μ—…λ΅λ“**: λ³΄μ  μΆ…λ© μΌκ΄„ λ“±λ΅ (ν‹°μ»¤, μλ‰, λ§¤μκ°€)
- **μμµλ¥  λ¶„μ„**: ν¬νΈν΄λ¦¬μ¤ μ „μ²΄ λ° μΆ…λ©λ³„ μμµλ¥  ν„ν™©
- **μΆ…λ© κ΄€λ¦¬**: κ°λ³„ μΆ…λ© μ¶”κ°€/μ‚­μ 

### π”” λ§¤λ§¤ μ‹ νΈ λ° μ•λ¦Ό
- κ³Όλ§¤λ„ μ•λ¦Ό (RSI < 30)
- κ³Όλ§¤μ μ•λ¦Ό (RSI > 70)
- DCF μ €ν‰κ°€ μ•λ¦Ό (ν„μ¬κ°€ < DCF * 0.8)
- EMA200 μ§€μ§€μ„  ν„°μΉ μ•λ¦Ό

## API μ—”λ“ν¬μΈνΈ

| μΉ΄ν…κ³ λ¦¬ | μ—”λ“ν¬μΈνΈ | μ„¤λ… |
|---|---|---|
| **μ‹μ¥/λ¶„μ„** | `GET /market/top20` | μ‹¤μ‹κ°„ Top 20 μ‹μ„Έ + μ§€ν‘ |
| | `GET /market` | μ£Όμ” μ‹μ¥ μ§€μ ν„ν™© |
| | `GET /valuation/{ticker}` | μΆ…λ© κ°€μΉν‰κ°€ (DCF, κΈ°μ μ  μ§€ν‘) |
| | `GET /returns/{ticker}` | μμµλ¥  λ° MDD λ¶„μ„ |
| | `GET /metrics/{ticker}` | μ¬λ¬΄μ§€ν‘ (PER, PBR, ROE λ“±) |
| | `GET /news/{ticker}` | κ΄€λ ¨ λ‰΄μ¤ λ§ν¬ μ κ³µ |
| **μ‹ νΈ/μ•λ¦Ό** | `GET /signals` | ν„μ¬ λ§¤λ§¤ μ‹ νΈ (κ³Όλ§¤μ/κ³Όλ§¤λ„ λ“±) |
| | `GET /summary` | μΌμΌ μ”μ•½ λ¦¬ν¬νΈ |
| | `POST /alerts` | κ°€κ²© μ•λ¦Ό μ„¤μ • |
| | `GET /check-alerts` | μ„¤μ •λ μ•λ¦Ό νΈλ¦¬κ±° ν™•μΈ |
| **ν¬νΈν΄λ¦¬μ¤** | `POST /portfolio/upload` | μ—‘μ…€ νμΌλ΅ ν¬νΈν΄λ¦¬μ¤ μ—…λ΅λ“ |
| | `GET /portfolio/{user_id}` | λ³΄μ  μΆ…λ© μ΅°ν |
| | `GET /portfolio/{user_id}/analysis` | ν¬νΈν΄λ¦¬μ¤ μμµλ¥  λ¶„μ„ |
| | `POST /portfolio/{user_id}/add` | μΆ…λ© μλ™ μ¶”κ°€ |
| | `DELETE /portfolio/{user_id}/{ticker}` | μΆ…λ© μ‚­μ  |

## μ‹¤ν–‰ λ°©λ²•

```bash
# μμ΅΄μ„± μ„¤μΉ
pip install -r requirements.txt

# μ„λ²„ μ‹¤ν–‰
python main.py

# λλ” uvicorn μ§μ ‘ μ‹¤ν–‰
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

API λ¬Έμ„: http://localhost:8000/docs

## μ§€μ› μΆ…λ©

### ν•κΈ€ β†’ ν‹°μ»¤ μλ™ λ³€ν™
- ν…μ¬λΌ β†’ TSLA
- μ• ν” β†’ AAPL
- μ—”λΉ„λ””μ•„ β†’ NVDA
- μ‚Όμ„±μ „μ β†’ 005930
- ...

## κΈ°μ  μ¤νƒ

- **Back-end**: FastAPI
- **Data**: FinanceDataReader, yfinance
- **Scheduling**: APScheduler
- **Analysis**: Pandas, NumPy
- **Utils**: OpenPyxl (Excel μ²λ¦¬)
